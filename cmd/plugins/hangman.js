new Canv('canvas', {
    words: ["battlefield","emergency","climate","ambiguity","strike","exception","scatter","distance","rhythm","principle","helicopter","vegetable","paralyzed","relinquish","gravel","insurance","recommendation","behavior","officer","closed","decisive","texture","safety","thrust","courtship","escape","degree","effective","failure","dilute","compete","gregarious","ghostwriter","national","appointment","harbor","average","volcano","family","hilarious","ambition","seasonal","viable","grimace","cluster","surprise","bother","negligence","manner","salesperson","episode","treatment","tension","damage","collapse","operational","content","economist","accountant","variation","church","shadow","friendly","twitch","competence","grounds","narrow","coffee","formula","senior","window","temptation","network","buffet","privilege","surgeon","discriminate","possible","stroke","sequence","insist","crosswalk","account","electronics","critical","balance","proposal","scandal","series","relative","justify","division","guerrilla","animal","incentive","vertical","nature","private","sphere","breeze","inside","reproduce","directory","protect","separate","advocate","gutter","factor","glance","scenario","undertake","cellar","gallon","predict","modest","compromise","pillow","relate","native","joystick","pocket","provision","organisation","overeat","hiccup","disagree","linger","correspondence","density","struggle","objective","publisher","manufacturer","mourning","pardon","frighten","underline","generation","kidnap","multimedia","treaty","answer","break down","industry","perforate","dragon","conversation","dollar","rehabilitation","television","sunshine","matrix","willpower","concession","habitat","scrape","monarch","thirsty","feeling","marble","pastel","speaker","difficulty","modernize","researcher","microphone","sodium","salvation","fiction","epicalyx","remark","negative","deposit","refund","turkey","patience","mention","silver","blue jean","midnight","company","urgency","physical","couple","preach","labour","scream","dominate","musical","behead","promotion","staircase","inflate","manufacture","flourish","coverage","extreme","magnitude","display","adviser","sensitive","disorder","opponent","wording","contemporary","reference","soprano","bottle","growth","hostile","praise","rotation","disclose","participate","explode","withdraw","sanctuary","regulation","dependence","direct","bundle","depression","desire","conventional","functional","qualification","rhetoric","member","accompany","cheque","cucumber","faithful","conception","democratic","tenant","demonstrator","plagiarize","trivial","border","occasion","slogan","autonomy","secretion","migration","install","minute","absolute","interface","flower","research","permission","circulate","produce","product","distortion","sunrise","triangle","exclusive","incapable","rotate","copyright","precision","silence","vegetation","bathroom","authorise","popular","mechanism","hotdog","precedent","assembly","nuclear","critic","button","farewell","registration","implicit","remunerate","collar","danger","pattern","offset","neighbour","transport","demonstration","examination","environment","memory","waterfall","skilled","offensive","subject","instal","hunter","information","refrigerator","applaud","manual","impulse","offense","available","conference","sentiment","current","favour","tender","settle","disaster","afford","energy","ministry","estate","grandfather","coincide","genuine","chimney","resign","talkative","accurate","killer","leftovers","inappropriate","accept","astonishing","stunning","worker","concrete","telephone","translate","symptom","bedroom","comfort","retailer","survey","attraction","sticky","stimulation","stadium","sulphur","tiptoe","suggest","outside","sculpture","transparent","vehicle","shiver","function","important","remember","affinity","laboratory","public","wriggle","attract","premature","please","corpse","moving","shareholder","exposure","strength","dangerous","confuse","battle","earthquake","trouble","secure","liability","exclude","instruction","string","illness","executrix","cereal","direction","applied","egg white","deport","concentration","governor","output","flavor","thanks","conductor","muscle","cutting","collection","position","describe","hypothesize","prosecute","supply","similar","velvet","welfare","retiree","bathtub","spectrum","finish","lifestyle","language","peanut","intention","cooperation","violation","colorful","syndrome","implication","Europe","integrity","enhance","accumulation","decade","restrain","basketball","restoration","resource","outlook","circle","fantasy","opposition","purpose","stubborn","defend","variable","nervous","outline","arrest","profit","dealer","establish","casualty","mother","banish","engagement","tendency","marathon","redundancy","discover","attention","planet","injury","building","wilderness","decline","appear","champion","congress","continuous","pioneer","publication","tradition","period","punish","guitar","repetition","reject","cooperate","element","context","improve","haircut","innovation","avenue","compact","withdrawal","notebook","cattle","promise","chauvinist","cylinder","reinforce","heaven","council","interactive","horror","regard","figure","compartment","chemistry","treasurer","approval","passage","comment","preoccupation","sensation","evolution","separation","detector","charismatic","character","patient","revolution","convert","serious","achievement","professor","departure","complete","unpleasant","memorandum","realism","vessel","compound","dictionary","annual","impress","analyst","estimate","engineer","hypnothize","sympathetic","contraction","choose","pigeon","situation","outlet","addition","garlic","eternal","diameter","driver","fragrant","funeral","switch","reproduction","electron","throat","chance","perception","whisper","solution","experiment","pasture","creation","health","magnetic","institution","journal","obscure","dominant","grandmother","stroll","inject","student","neglect","lonely","motorcycle","restrict","colleague","acceptance","divorce","complex","housewife","dramatic","infrastructure","version","peasant","counter","elegant","normal","tycoon","experience","reliable","wrestle","transmission","observer","museum","superior","seller","broken","definition","depart","appoint","nuance","spring","construct","evaluate","economic","canvas","likely","traffic","origin","hunting","theory","communist","dribble","deprive","premium","fraction","incident","permanent","harass","hospital","exploration","occupy","medicine","increase","district","sister","attachment","torture","minimum","portion","arrangement","embryo","investigation","extend","mosquito","tolerate","shorts","appetite","application","prospect","harvest","ground","indoor","measure","tolerant","leader","market","stereotype","handicap","commemorate","incongruous","imperial","facility","corruption","arrogant","sketch","clique","disturbance","asylum","rational","offend","reform","girlfriend","excavation","drawing","recognize","custody","instinct","conscious","bulletin","tongue","presidential","deliver","disappoint","inspector","frequency","property","illustrate","effort","emotion","palace","disposition","species","routine","disability","proportion","credibility","crisis","communication","consciousness","session","address","exaggerate","ceremony","advertising","characteristic","ballet","reptile","prisoner","umbrella","glimpse","talented","reliance","standard","reporter","carrot","combine","shelter","threshold","fitness","lecture","soldier","divide","strikebreaker","poetry","rainbow","trolley","bloodshed","contact","clothes","hostage","sausage","burial","financial","oppose","horizon","cotton","timetable","impound","insight","realize","unaware","cassette","printer","lounge","define","pepper","attitude","liberal","section","reception","spread","producer","polish","beautiful","environmental","commitment","privacy","bounce","assignment","integrated","appearance","cemetery","auction","feature","camera","extension","channel","unlawful","question","hemisphere","pressure","advantage","portrait","explosion","teacher","scheme","patrol","sector","elaborate","system","mainstream","deficit","column","foundation","inhibition","addicted","recommend","analysis","election","patent","birthday","barrel","threat","support","articulate","grateful","favorable","crackpot","perform","garage","movement","layout","expose","criminal","jealous","publish","Sunday","demonstrate","houseplant","exploit","prestige","gesture","constellation","denial","litigation","presidency","illusion","liberty","edition","thought","welcome","displace","meeting","eavesdrop","abnormal","conspiracy","pottery","legend","consultation","assertive","storage","captivate","proclaim","opinion","design","reservoir","short circuit","register","profile","affair","gradient","ignorance","delivery","work out","radiation","infect","correspond","cupboard","hesitate","qualify","comedy","express","bubble","technology","inhabitant","substitute","paradox","quotation","action","composer","notion","vigorous","recover","organize","ignore","stretch","customer","helpless","history","presence","amputate","loyalty","percent","contempt","leaflet","adjust","landowner","sensitivity","single","unfortunate","spider","cooperative","suntan","consideration","equinox","distant","constraint","condition","fluctuation","fireplace","hostility","chimpanzee","protest","president","bishop","cathedral","introduction","defendant","clinic","constant","productive","general","ostracize","central","appreciate","hardship","detail","reduce","childish","secular","certain","mistreat","aviation","rocket","terrace","feather","skeleton","speculate","change","barrier","agreement","scramble","candidate","circumstance","shower","extinct","scratch","summer","civilian","tumble","despair","kettle","conflict","understanding","penalty","kinship","volunteer","highlight","pension","latest","decide","reveal","reasonable","shallow","reverse","transition","quaint","suffering","passion","morale","topple","injection","campaign","screen","intelligence","allowance","miscarriage","insert","cigarette","mathematics","wear out","insistence","painter","traction","revise","develop","supplementary","pudding","emphasis","volume","dimension","correction","obligation","prefer","unlikely","overall","motivation","coerce","railcar","crystal","apology","chapter","cancel","omission","needle","promote","unfair","career","despise","official","cinema","director","locate","architecture","judgment","suffer","password","ensure","terminal","orchestra","carpet","judicial","decrease","government","ancestor","reconcile","prison","prevalence","surface","reward","superintendent","filter","replacement","teenager","cultivate","temple","influence","expand","contrast","finger","player","convulsion","strict","shoulder","designer","broccoli","service","confront","include","bucket","contribution","common","monopoly","community","trance","performer","tropical","recovery","resort","salmon","flatware","spokesperson","nonsense","suppress","freedom","plastic","plaster","mountain","middle","indirect","imposter","excavate","old age","looting","pledge","abridge","right wing","concentrate","cousin","ordinary","jurisdiction","proper","invite","practical","enthusiasm","effect","provoke","timber","goalkeeper","summit","calendar","brother","battery","regret","matter","sickness","ethics","conclusion","calculation","policeman","concede","diagram","forest","twilight","doctor","exercise","default","finished","variety","review","wisecrack","recording","mail carrier","nationalism","category","dynamic","variant","satellite","confidence","reckless","extract","grudge","distinct","restless","crouch","admission","outfit","expertise","stress","first-hand","adoption","satisfaction","behave","provide","crevice","intervention","arrange","disappear","stride","possibility","constitutional","visual","identity","candle","announcement","original","referral","export","bitter","conservative","happen","breakfast","cell phone","generate","cunning","buttocks","cherry","bottom","training","undermine","sweater","exempt","embarrassment","banana","favourite","paragraph","apparatus","familiar","guideline","advice","calorie","hallway","missile","abortion","brilliance","complain","necklace","tissue","result","breakdown","cheese","thinker","biscuit","combination","horoscope","forget","development","theater","vision","prescription","thesis","lesson","island","explicit","manager","laundry","pedestrian","philosophy","advance","mushroom","allocation","delete","rescue","personal","different","expression","courtesy","meaning","credit","veteran","square","frozen","bomber","choice","anticipation","beneficiary","package","justice","center","leadership","revoke","station","retreat","visible","digress","endure","archive","cabinet","studio","polite","orange","earthflax","artificial","embrace","safari","sandwich","knowledge","stitch","approach","packet","falsify","miracle","greeting","college","colony","plaintiff","retire","operation","resignation","launch","chicken","affect","essential","payment","shrink","economy","dismiss","mastermind","employ","trainer","prayer","respectable","genetic","laborer","relevance","eliminate","deprivation","guarantee","collect","pumpkin","dictate","initiative","belief","tablet","strange","declaration","poison","aspect","ritual","highway","isolation","posture","warning","object","sermon","banquet","virgin","endorse","professional","eyebrow","contrary","photograph","criticism","domination","detective","contain","constituency","season","maximum","breast","carriage","transform","jockey","dignity","deteriorate","invisible","ladder","integration","discount","banner","housing","ambiguous","biology","radical","strategic","flexible","margin","insure","constitution","neighborhood","reaction","domestic","fascinate","decoration","acquaintance"],
    
    difficulty: 1,

    setup() {
        cmd.registerCommand("hang", args => {
            if(args.length >= 1) {
                const arg = args[0];
                if(arg === "new") {
                    return this.reset();
                } else if(arg === "show") {
                    return this.word;
                } else if(arg === "len") {
                    return this.word.length;
                } else {
                    const r = this.guessChar(arg);
                    return r;
                } 
            } else {
                return this.guess;
            }
        });


        this.reset();
    },


    reset() {
        this.word = this.randomWord();
        this.guess = new Array(this.word.length).fill("-").join("")
        return this.guess;
    },

    guessChar(character) {
        for(let i = 0; i < this.word.length; i++) {
            let wordchar = this.word[i];

            character.split("").forEach(char => {
                if(wordchar === char) {
                    this.guess = this.guess.split("").map((c, j) => {
                        return j === i ? char : c;
                    }).join("");
                }
            })
        }


        if(this.word === this.guess) {
            return "Congrats! The word is: "+this.word;
        } else {
            return this.guess;
        }
    },

    randomWord() {
        const words = this.words.filter(w => w.length >= this.difficulty);
        return words[Math.floor(Math.random() * words.length)];
    }
})